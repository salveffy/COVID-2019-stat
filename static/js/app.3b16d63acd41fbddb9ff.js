webpackJsonp([1],{"7zck":function(t,a){},CVK0:function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=s("7+uW"),e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-app",{attrs:{id:"app"}},[s("v-app-bar",{attrs:{absolute:"",color:"white ",dense:"","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7",app:""}},[s("router-link",{staticClass:"text-d grey--text text--darken-1 ma-10",attrs:{to:"/"}},[s("v-toolbar-title",{staticClass:"headline"},[s("v-icon",[t._v("mdi-virus-outline")]),t._v(" COVID-2019")],1)],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,e=a.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",e,!1),n),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),s("v-list",t._l(t.countries,function(a){return s("v-list-item",{key:a,attrs:{link:"",to:"/country/"+a},on:{click:function(){}}},[s("v-list-item-title",{on:{click:function(s){return t.updateCountry(a)}}},[t._v(t._s(a))])],1)}),1)],1)],1),t._v(" "),s("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"600"}}),t._v(" "),s("v-main",[s("v-container",{attrs:{fluid:""}},[s("router-view")],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App",data:function(){return{items:[{title:"COVID-2019",icon:"mdi-earth",link:"/"}],drawer:!1}},mounted:function(){this.$store.dispatch("updateTopCountries")},methods:{updateCountry:function(t){this.$store.dispatch("newCountryName",t)}},computed:{countries:function(){return this.$store.getters.topCountries}}},e,!1,function(t){s("zZzs")},null,null).exports,o=s("/ocq"),i=s("BO1k"),c=s.n(i),u={name:"StatCard",data:function(){return{}},props:{bgColor:String,cardIcon:String,cardTitle:String,cardAmount:Number,cardAmountNew:Number}},l={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-card",{staticClass:"summary-card ma-3 pt-6",class:t.bgColor,attrs:{"max-width":"300",dark:"",outlined:"",tile:""}},[s("div",{staticClass:"icon-wrapper"},[s("v-icon",[t._v(t._s(t.cardIcon))])],1),t._v(" "),s("v-card-title",{staticClass:"headline text-bold"},[s("span",{staticClass:"count"},[t._v("\n      "+t._s(t.cardAmount)+"\n    ")])]),t._v(" "),s("v-card-subtitle",{staticClass:"text-center text-bold"},[t._v("\n    "+t._s(t.cardTitle)+"\n  ")]),t._v(" "),s("v-card-subtitle",{staticClass:"text-center text-bold"},[t._v("\n      "+t._s("За сегодня "+t.cardAmountNew)+"\n  ")])],1)},staticRenderFns:[]};var d=s("VU/8")(u,l,!1,function(t){s("CVK0")},"data-v-107c6fb6",null).exports,h=s("UlOv"),m=h.b.reactiveProp,v=n.default.component("line-chart",{extends:h.a,props:{chartData:Array,options:Array},mixins:[m],mounted:function(){this.renderChart(this.chartData,this.options)}}),p=s("PJh5"),j=s.n(p),f={name:"HelloWorld",data:function(){return{cards:[{title:"Всего случаев заражения",bgColor:"yellow darken-3",amount:0,amountNew:0,icon:"mdi-alert-decagram-outline"},{title:"Смертность",bgColor:"red darken-3",amount:0,amountNew:0,icon:"mdi-emoticon-dead-outline"},{title:"Выздоровели",bgColor:"light-green darken-3",amount:0,amountNew:0,icon:"mdi-hospital-building"}],visuals:[],continents:null,allData:null,recovered:null}},components:{StatCard:d,LineChart:v},mounted:function(){var t=this;j.a.locale("ru"),this.axios.get("https://corona.lmao.ninja/v2/continents?sort").then(function(a){t.continents=a,t.updateStats()}).catch(function(t){console.error("API error: ",t)}),this.axios.get("https://corona.lmao.ninja/v2/historical/all").then(function(a){t.allData=a,t.updateVisuals()})},methods:{updateStats:function(){var t=this.continents.data,a=0,s=0,n=0,e=!0,r=!1,o=void 0;try{for(var i,u=c()(t);!(e=(i=u.next()).done);e=!0){var l=i.value;a+=l.cases,s+=l.deaths,n+=l.recovered}}catch(t){r=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw o}}this.cards[0].amount+=a,this.cards[1].amount+=s,this.cards[2].amount+=n},updateVisuals:function(){var t,a=this.allData.data,s=a.cases,n=a.recovered,e=a.deaths,r=[],o=void 0,i=[],c=[],u=[];for(var l in s)r.push(l),i.push(s[l]/1e6),c.push((n[l]+49e6)/1e6),u.push(e[l]/1e6);for(o=0,t=r.length;o<t;o++)r[o]=j()(r[o]).format("D MMM ");this.visuals.push({id:1,chartData:{labels:r,datasets:[{label:"Всего случаев заражения, в миллионах",backgroundColor:"#F9A825",data:i}]},options:{responsive:!0,maintainAspectRatio:!1}}),this.visuals.push({id:2,chartData:{labels:r,datasets:[{label:"Смертность, в миллионах",backgroundColor:"#C62828",data:u}]},options:{responsive:!0,maintainAspectRatio:!1}}),this.visuals.push({id:3,chartData:{labels:r,datasets:[{label:"Выздоровели, в милионнах",backgroundColor:"#558B2F",data:c}]},options:{responsive:!0,maintainAspectRatio:!1}});var d=Math.round(1e6*(i[i.length-1]-i[i.length-2])),h=Math.round(1e6*(u[u.length-1]-u[u.length-2])),m=Math.round(1e6*(c[c.length-1]-c[c.length-2]));this.cards[0].amountNew+=d,this.cards[1].amountNew+=h,this.cards[2].amountNew+=m}}},g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("main",{staticClass:"pa-3"},[s("section",[s("h1",{staticClass:"display-1 mb-5 pa-3",attrs:{align:"center"}},[t._v("Статистика по миру")]),t._v(" "),s("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center"}},t._l(t.cards,function(t){return s("stat-card",{key:t,attrs:{cardTitle:t.title,bgColor:t.bgColor,cardAmount:t.amount,cardAmountNew:t.amountNew,cardIcon:t.icon}})}),1)],1),t._v(" "),s("section",[s("h2",{staticClass:"display-1 mb-5 pa-3",attrs:{align:"center"}},[t._v("Графики за последний месяц")]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.visuals,function(t){return s("line-chart",{key:t.id,attrs:{"chart-data":t.chartData,options:t.option}})}),1)],1)])},staticRenderFns:[]};var b=s("VU/8")(f,g,!1,function(t){s("S6cm")},"data-v-7f25e041",null).exports,y={name:"Countries",data:function(){return{msg:"Countries stats",item:1,items:[{text:"Country 1",icon:"mdi-clock"}],countries:null}},mounted:function(){var t=this;this.axios.get("https://corona.lmao.ninja/v2/historical?lastdays=30").then(function(a){t.countries=a})},components:{LineChart:v}},C={render:function(){var t=this.$createElement,a=this._self._c||t;return a("main",[a("h1",[this._v(this._s(this.msg))]),this._v("\n    "+this._s(this.countries)+"\n")])},staticRenderFns:[]};var w=s("VU/8")(y,C,!1,function(t){s("YQFU")},"data-v-edebd8d4",null).exports,k={name:"Country",props:["queryName"],data:function(){return{cards:[],visuals:[]}},components:{StatCard:d,LineChart:v},mounted:function(){},methods:{updateCountryStats:function(){var t=this.$store.getters.country;this.cards.push({title:"Всего случаев заражения",bgColor:"#F9A825",amount:t.cases,amountNew:t.cases,icon:"mdi-alert-decagram-outline"}),this.cards.push({title:"Смертность",bgColor:"#C62828",amount:t.deaths,amountNew:0,icon:"mdi-emoticon-dead-outline"}),this.cards.push({title:"Выздоровели",bgColor:"#558B2F",amount:t.recoveries,amountNew:0,icon:"mdi-hospital-building"}),this.visuals=[],this.visuals.push({id:1,chartData:{labels:t.visualLabels,datasets:[{label:"Всего случаев заражения, в миллионах",backgroundColor:"#F9A825",data:t.visualData.cases}]},options:{responsive:!0,maintainAspectRatio:!1}}),this.visuals.push({id:2,chartData:{labels:t.visualLabels,datasets:[{label:"Смертность, в миллионах",backgroundColor:"#C62828",data:t.visualData.deaths}]},options:{responsive:!0,maintainAspectRatio:!1}}),this.visuals.push({id:3,chartData:{labels:t.visualLabels,datasets:[{label:"Выздоровели, в милионнах",backgroundColor:"#558B2F",data:t.visualData.recoveries}]},options:{responsive:!0,maintainAspectRatio:!1}})}},computed:{countryDataCards:function(){var t=this.$store.getters.country,a=[];return a.push({title:"Всего случаев заражения",bgColor:"yellow darken-3",amount:Math.round(1e6*t.cases),amountNew:t.visualData.casesPerDay,icon:"mdi-alert-decagram-outline"}),a.push({title:"Смертность",bgColor:"red darken-3",amount:t.deaths,amountNew:t.visualData.deathsPerDay,icon:"mdi-emoticon-dead-outline"}),a.push({title:"Выздоровели",bgColor:"light-green darken-3",amount:Math.round(1e6*t.recoveries),amountNew:t.visualData.recoveriesPerDay,icon:"mdi-hospital-building"}),a},countryDataVisuals:function(){var t=this.$store.getters.country,a=[];return a.push({id:1,chartData:{labels:t.visualLabels,datasets:[{label:"Всего случаев заражения, в миллионах",backgroundColor:"#F9A825",data:t.visualData.cases}]},options:{responsive:!0,maintainAspectRatio:!1}}),a.push({id:2,chartData:{labels:t.visualLabels,datasets:[{label:"Смертность",backgroundColor:"#C62828",data:t.visualData.deaths}]},options:{responsive:!0,maintainAspectRatio:!1}}),a.push({id:3,chartData:{labels:t.visualLabels,datasets:[{label:"Выздоровели, в милионнах",backgroundColor:"#558B2F",data:t.visualData.recoveries}]},options:{responsive:!0,maintainAspectRatio:!1}}),a}}},N={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("main",{staticClass:"pa-3"},[s("section",[s("h1",{staticClass:"display-1 mb-5 pa-3",attrs:{align:"center"}},[t._v(t._s(t.queryName))]),t._v(" "),s("v-row",{staticClass:"mb-5",attrs:{align:"center",justify:"center"}},t._l(t.countryDataCards,function(t){return s("stat-card",{key:t.title,attrs:{cardTitle:t.title,bgColor:t.bgColor,cardAmount:t.amount,cardAmountNew:t.amountNew,cardIcon:t.icon}})}),1)],1),t._v(" "),s("section",[s("h2",{staticClass:"display-1 mb-10 pa-3",attrs:{align:"center"}},[t._v("Графики за последний месяц")]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.countryDataVisuals,function(t){return s("line-chart",{key:t.id,staticClass:"ma-1",attrs:{"chart-data":t.chartData,options:t.option}})}),1)],1)])},staticRenderFns:[]};var _=s("VU/8")(k,N,!1,function(t){s("UrFR")},"data-v-6fdc92a0",null).exports,D=s("NYxO"),z=s("Zrlr"),x=s.n(z),F=function t(a,s,n,e,r,o,i){x()(this,t),this.id=a,this.name=s,this.cases=n,this.deaths=e,this.recoveries=r,this.visualData=o,this.visualLabels=i},E=s("mtWM"),A=s.n(E),R={state:{currCountryName:null,countries:[],topCountries:[]},mutations:{newCountry:function(t,a){t.countries.push(a)},newCountryName:function(t,a){t.currCountryName=a},newTopCountry:function(t,a){t.topCountries=a}},actions:{newCountry:function(t,a){var s=this,n=t.commit,e=t.getters;n("clearError"),n("setLoading",!0),console.log("new country is",a),A.a.get("https://corona.lmao.ninja/v2/historical/"+a+"?lastdays=30").then(function(t){var a,r=t.data,o=[],i=void 0,c={},u=[],l=[],d=[];for(var h in r.timeline.cases)o.push(h),u.push(r.timeline.cases[h]/1e6),l.push(r.timeline.deaths[h]),d.push(r.timeline.recovered[h]/1e6);for(j.a.locale("ru"),i=0,a=o.length;i<a;i++)o[i]=j()(o[i]).format("D MMM ");var m=Math.round(1e6*(u[u.length-1]-u[u.length-2])),v=Math.round(1e6*(d[d.length-1]-d[d.length-2])),p=l[l.length-1]-l[l.length-2];c.cases=u,c.deaths=l,c.recoveries=d,c.casesPerDay=m,c.recoveriesPerDay=v,c.deathsPerDay=p;var f=e.countryId,g=new F(f,r.country,u[u.length-1],l[l.length-1],d[d.length-1],c,o);console.log("new state is",s.state),n("setLoading",!1),n("newCountry",g)}).catch(function(t){throw n("setLoading",!1),n("setError",t.message),t})},newCountryName:function(t,a){(0,t.commit)("newCountryName",a)},updateTopCountries:function(t){var a=t.commit,s=t.dispatch;a("clearError"),a("setLoading",!0),A.a.get("https://corona.lmao.ninja/v2/countries?sort=active").then(function(t){var n=t.data.slice(0,15);n=n.map(function(t){return t.country}),a("newTopCountry",n);var e=!0,r=!1,o=void 0;try{for(var i,u=c()(n);!(e=(i=u.next()).done);e=!0){var l=i.value;s("newCountry",l)}}catch(t){r=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw o}}a("setLoading",!1)})}},getters:{country:function(t){return console.log("data is",t.countries.find(function(a){return a.name===t.currCountryName})),t.countries.find(function(a){return a.name===t.currCountryName})},currentCountry:function(t){return console.log("currentCountry",t.currCountryName),t.currCountryName},countryId:function(t){return t.countries.length},topCountries:function(t){return console.log("countries:",t.countries),t.topCountries}}};n.default.use(D.a);var S=new D.a.Store({modules:{common:{state:{loading:!1,error:!1},mutations:{setLoading:function(t,a){t.loading=a},setError:function(t,a){t.error=a},clearError:function(t){t.error=!1}},actions:{setLoading:function(t,a){(0,t.commit)("setLoading",a)},setError:function(t,a){(0,t.commit)("setError",a)},clearError:function(t,a){(0,t.commit)("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},country:R}});n.default.use(o.a);var L=new o.a({routes:[{path:"/",name:"Total",component:b},{path:"/countries",name:"Countries",component:w},{path:"/country/:queryName",name:"Country",component:_,props:!0,beforeEnter:function(t,a,s){var n=t.params.queryName;S.dispatch("newCountryName",n),s()}}]}),P=s("3EgV"),V=s.n(P);s("7zck"),s("csSS");n.default.use(V.a);var q=new V.a({icons:{iconfont:"mdi"}}),M=s("DWlv"),O=s.n(M),U=s("8AgW"),H=s.n(U);n.default.use(H.a),n.default.use(O.a,A.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:L,components:{App:r},template:"<App/>",vuetify:q,store:S})},S6cm:function(t,a){},UrFR:function(t,a){},YQFU:function(t,a){},csSS:function(t,a){},uslO:function(t,a,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function e(t){return s(r(t))}function r(t){var a=n[t];if(!(a+1))throw new Error("Cannot find module '"+t+"'.");return a}e.keys=function(){return Object.keys(n)},e.resolve=r,t.exports=e,e.id="uslO"},zZzs:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.3b16d63acd41fbddb9ff.js.map